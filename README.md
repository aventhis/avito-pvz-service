# avito-pvz-service

ะกะตัะฒะธั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฟัะฝะบัะฐะผะธ ะฒัะดะฐัะธ ะทะฐะบะฐะทะพะฒ (ะะะ), ะฟัะธัะผะบะฐะผะธ ะธ ัะพะฒะฐัะฐะผะธ. ะัะฟะพะปะฝะตะฝะพ ะฒ ัะฐะผะบะฐั ะพัะฑะพัะฐ ะฝะฐ ััะฐะถะธัะพะฒะบั Go-ัะฐะทัะฐะฑะพััะธะบะฐ ะฒะตัะฝะพะน 2025 ะฒ ะะฒะธัะพ.

---

## ๐ง ะกะฑะพัะบะฐ ะธ ะทะฐะฟััะบ

ะะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ะทะฐะดะฐั ะธัะฟะพะปัะทัะตััั [`task`](https://taskfile.dev).

### ะฃััะฐะฝะพะฒะบะฐ `task`:

```bash
go install github.com/go-task/task/v3/cmd/task@latest
```

### ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน:

```bash
go mod tidy
```

### ะะฐะฟััะบ ัะตัะฒะตัะฐ:

```bash
go run ./cmd/server
```

---

## โ๏ธ ะะตะฝะตัะฐัะธั ะบะพะดะฐ ะธะท OpenAPI

ะัะพะตะบั ะธัะฟะพะปัะทัะตั [`oapi-codegen`](https://github.com/oapi-codegen/oapi-codegen) ะดะปั ะณะตะฝะตัะฐัะธะธ:

- DTO (ััััะบััั)
- ะธะฝัะตััะตะนัะฐ `ServerInterface`
- ัะธะฟะพะฒ ะฟะฐัะฐะผะตััะพะฒ ะทะฐะฟัะพัะพะฒ

### ะฃััะฐะฝะพะฒะบะฐ ะณะตะฝะตัะฐัะพัะฐ:

```bash
go install github.com/oapi-codegen/oapi-codegen/v2/cmd/oapi-codegen@latest
```

ะะตะฝะตัะฐัะธั ะฒัะฟะพะปะฝัะตััั ัะตัะตะท `task`, ะฟะพะดัะพะฑะฝะตะต โ ะฒ ัะฐะทะดะตะปะต [๐ Taskfile](#taskfile).

---

> ะะพะฝัะธะณััะฐัะธั ะฝะฐัะพะดะธััั ะฒ `api/config.yaml`, ัะตะทัะปััะฐั ะณะตะฝะตัะฐัะธะธ โ `internal/api/openapi.gen.go`.

---

## Taskfile

ะะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ัััะธะฝะฝัั ะทะฐะดะฐั ะธัะฟะพะปัะทัะตััั [`task`](https://taskfile.dev).

### ะะพัััะฟะฝัะต ะบะพะผะฐะฝะดั:

#### โ ะะตะฝะตัะฐัะธั DTO ะธ ะธะฝัะตััะตะนัะพะฒ ะธะท OpenAPI ััะตะผั:

```bash
task generate-api
```
#### โน๏ธ ะะพัะผะพััะตัั ะฒัะต ะทะฐะดะฐัะธ:

```bash
task --list
```

> Taskfile ะฟะพะทะฒะพะปัะตั ะตะดะธะฝะพะพะฑัะฐะทะฝะพ ะทะฐะฟััะบะฐัั ะบะพะผะฐะฝะดั ะฝะฐ ะฒัะตั ััะฐะฟะฐั: ะพั ะณะตะฝะตัะฐัะธะธ ะดะพ CI.

---


## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
avito-pvz-service/
โโโ api/                  # OpenAPI ััะตะผะฐ ะธ ะบะพะฝัะธะณ ะณะตะฝะตัะฐัะธะธ
โ   โโโ swagger.yaml
โ   โโโ config.yaml
โโโ internal/
โ   โโโ api/              # DTO ะธ ะธะฝัะตััะตะนัั, ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต oapi-codegen
โโโ cmd/
โ   โโโ server/           # ะขะพัะบะฐ ะฒัะพะดะฐ ะฒ HTTP-ัะตัะฒะตั
โโโ Taskfile.yml          # ะะฒัะพะผะฐัะธะทะฐัะธั ะณะตะฝะตัะฐัะธะธ ะบะพะดะฐ
โโโ README.md             # ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
โโโ go.mod / go.sum       # ะะฐะฒะธัะธะผะพััะธ Go
โโโ .gitignore
```
